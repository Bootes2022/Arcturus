# Environment Setup Configuration (`setup.conf`)

## 1. Overview

The `setup.conf` file is used to provide custom parameters for the associated environment setup scripts (e.g., scripts for installing Go, etcd, MySQL). By modifying this file, you can control installation versions, paths, credentials, and other environment-specific configurations without directly altering the script code.

**Core Principles:**

*   **Override Defaults**: The scripts have sensible default values for most parameters. You only need to define parameters in this configuration file if you wish to **override** these defaults.
*   **Comments Disable**: Lines starting with `#` are comments and are ignored by the scripts. To enable a configuration, remove the leading `#` and set the desired value.
*   **Focus on Essentials**: Typically, the most common parameters you'll need to configure are passwords, project-specific database names/users, and, in special cases, specific software versions or paths.

## 2. How to Use

1.  **Open the File**: Open the `setup.conf` file with a text editor.
2.  **Locate Parameters**: Find the section for the parameters you want to modify (e.g., `Go Configuration`, `etcd Configuration`, `MySQL Configuration`).
3.  **Uncomment (if necessary)**: If a parameter line starts with `#`, it means it's currently using the script's built-in default value. To customize it, remove the leading `#`.
4.  **Modify Value**: After the equals sign `=`, within the double quotes `""`, change the value to your desired setting.
    *   For example, to change the MySQL root password to `MyNewSecurePassword!`:
        ```bash
        MYSQL_ROOT_PASSWORD="MyNewSecurePassword!"
        ```
5.  **Save the File**: Save your changes.
6.  **Run Scripts**: When you execute the relevant setup scripts, they will automatically read this `setup.conf` file (if it exists in the expected location) and use your defined configurations.

## 3. Parameter Details

---

### **Go Configuration (Optional, Defaults Provided)**

Parameters in this section configure the Go programming language environment installation.

*   `REQUIRED_GO_VERSION="go1.23"`
    *   **Meaning**: The minimum Go version required by your project. The script will issue a warning if an installed Go version is lower than this.
    *   **Configuration**: Set to the minimum Go version compatible with your project, e.g., `"go1.22"`. Comment out this line if this check is not needed or to use the script's default.

*   `GO_INSTALL_VERSION="go1.23.7"`
    *   **Meaning**: If the script needs to install Go (e.g., Go is not already installed), it will install this specified version.
    *   **Configuration**: Set to the Go version number you wish to install, e.g., `"1.21.5"`. Comment out this line if you want the script to install its built-in default recommended version.

*   `GO_ARCH="linux-arm64"`
    *   **Meaning**: Specifies the target operating system architecture for the Go installation package download.
    *   **Configuration**: Defaults to `"linux-amd64"`. If your server is ARM-based (e.g., `aarch64` or `arm64`), uncomment and set to `"linux-arm64"` or the appropriate architecture.

*   `GOPATH_DIR="$HOME/my_custom_go_path"`
    *   **Meaning**: Customizes the value of the `GOPATH` environment variable. `GOPATH` is the workspace directory Go uses to find and install packages.
    *   **Configuration**: If you don't want to use the default `$HOME/go` for `GOPATH`, uncomment and set to your desired path, e.g., `"/opt/go_projects"`.

---

### **etcd Configuration (Optional, Defaults Provided)**

Parameters for configuring the installation and basic service settings for etcd (a distributed key-value store).

*   `ETCD_INSTALL_VERSION="v3.5.9"`
    *   **Meaning**: If the script needs to install etcd, it will install this specified version.
    *   **Configuration**: Set to the etcd version number you wish to install, e.g., `"v3.4.20"`.

*   `ETCD_ARCH="linux-arm64"`
    *   **Meaning**: Specifies the target operating system architecture for the etcd installation package download.
    *   **Configuration**: Defaults to `"linux-amd64"`. For ARM architecture, uncomment and set to `"linux-arm64"`.

*   **etcd Service Configuration Parameters (Advanced)**:
    These parameters configure the listening addresses and cluster information for the etcd service. **For single-node local testing, the default values are usually sufficient. Modify these only if you need to customize network interfaces, ports, or set up an etcd cluster.**

    *   `ETCD_NODE_NAME="etcd-node-01"`
        *   **Meaning**: The name of this etcd node.
        *   **Configuration**: Defaults to `"default"`. In a cluster, each node should have a unique name.

    *   `ETCD_INITIAL_ADVERTISE_PEER_URLS="http://<your_ip>:2380"`
        *   **Meaning**: List of URLs this node will advertise to other members (peers) in the cluster for communication.
        *   **Configuration**: Defaults to `"http://localhost:2380"`. In a cluster, replace `<your_ip>` with the node's actual reachable IP address.

    *   `ETCD_LISTEN_PEER_URLS="http://0.0.0.0:2380"`
        *   **Meaning**: List of URLs on which this node will listen for peer communication.
        *   **Configuration**: Defaults to `"http://localhost:2380"`. Using `"http://0.0.0.0:2380"` listens on port 2380 across all network interfaces.

    *   `ETCD_ADVERTISE_CLIENT_URLS="http://<your_ip>:2379"`
        *   **Meaning**: List of URLs this node will advertise to clients for communication.
        *   **Configuration**: Defaults to `"http://localhost:2379"`. For clusters or remote access, use the node's actual reachable IP address.

    *   `ETCD_LISTEN_CLIENT_URLS="http://0.0.0.0:2379"`
        *   **Meaning**: List of URLs on which this node will listen for client communication.
        *   **Configuration**: Defaults to `"http://localhost:2379"`. Using `"http://0.0.0.0:2379"` listens on port 2379 across all network interfaces.

    *   `ETCD_INITIAL_CLUSTER="etcd-node-01=http://<your_ip>:2380"`
        *   **Meaning**: The initial membership list for the etcd cluster.
        *   **Configuration**: Defaults to `"default=http://localhost:2380"` (for a single node). For a cluster, the format is `"node1=http://ip1:2380,node2=http://ip2:2380,..."`.

---

### **MySQL Configuration (Passwords and Database Name are commonly configured)**

Parameters for configuring the MySQL database installation, root user, and application database/user.

*   `MYSQL_ROOT_PASSWORD="VeryStrongRootPassword123!"`
    *   **Meaning**: The password for the MySQL `root` user. This is the superuser account for MySQL.
    *   **Configuration**: **It is strongly recommended to change this default password to a strong, unique password!** This is crucial for database security.

*   `MYSQL_DB_NAME="myapp_db"`
    *   **Meaning**: The name of the database your application will use.
    *   **Configuration**: Modify according to your application's needs, e.g., `"my_production_db"`.

*   `MYSQL_DB_USER="myapp_user"`
    *   **Meaning**: The username your application will use to connect to the `MYSQL_DB_NAME` database.
    *   **Configuration**: Modify according to your application's needs, e.g., `"app_service_user"`.

*   `MYSQL_DB_PASSWORD="StrongAppUserPassword456!"`
    *   **Meaning**: The password for the `MYSQL_DB_USER`.
    *   **Configuration**: **It is strongly recommended to change this default password to a strong, unique password!**

*   `MYSQL_SQL_SCRIPT_PATH="/assets/create_tables.sql"`
    *   **Meaning**: The path to the SQL script file containing statements to create the table structure within the `MYSQL_DB_NAME` database.
    *   **Configuration**: Ensure this path points to your actual SQL script file. It can be an absolute path (e.g., `/opt/myapp/sql/schema.sql`) or a relative path from where the setup script is executed.

---

## 4. Important Notes

*   **Password Security**: Storing passwords in plaintext in a configuration file carries security risks. Ensure the `setup.conf` file has strict file permissions (e.g., `chmod 600 setup.conf`, making it readable and writable only by the owner) and is accessible only by trusted users. For production environments, consider using more secure credential management solutions (e.g., environment variables, Vault, Kubernetes Secrets).
*   **Default Values**: If a parameter is commented out or not defined in this file, the scripts will use their internally defined default values. These defaults are generally suitable for local development or testing environments.
*   **Paths**: For path-related parameters (like `MYSQL_SQL_SCRIPT_PATH`), ensure the correctness of the path.
*   **Testing**: Always test configuration changes thoroughly in a non-production environment before applying them to production systems.


#!/bin/bash
# -----------------------------------------------------------------------------
# Configuration file for environment setup scripts
#
# - Only configure parameters for which you want to override the default values.
# - For parameters not defined in this file, the script will use built-in defaults.
# - Passwords and project-specific paths are commonly configured items.
# -----------------------------------------------------------------------------

# --- Go Configuration (Optional, defaults provided) ---
# If your project has specific Go version requirements, uncomment and set
# REQUIRED_GO_VERSION="go1.23"
# If you need to install a specific version of Go (other than the default latest recommended), uncomment and set
# GO_INSTALL_VERSION="go1.23.7"
# If your system architecture is not amd64 (e.g., arm64), uncomment and set
# GO_ARCH="linux-arm64"
# Custom GOPATH (Optional, defaults to $HOME/go)
# GOPATH_DIR="$HOME/my_custom_go_path"

# --- etcd Configuration (Optional, defaults provided) ---
# If you need to install a specific version of etcd, uncomment and set
# ETCD_INSTALL_VERSION="v3.5.9"
# If your system architecture is not amd64 (e.g., arm64), uncomment and set
# ETCD_ARCH="linux-arm64"

# If you need to customize etcd cluster configuration (e.g., multi-node or different ports)
# ETCD_NODE_NAME="etcd-node-01"
# ETCD_INITIAL_ADVERTISE_PEER_URLS="http://<your_ip>:2380"
# ETCD_LISTEN_PEER_URLS="http://0.0.0.0:2380"
# ETCD_ADVERTISE_CLIENT_URLS="http://<your_ip>:2379"
# ETCD_LISTEN_CLIENT_URLS="http://0.0.0.0:2379"
# ETCD_INITIAL_CLUSTER="etcd-node-01=http://<your_ip>:2380" # Modify according to your actual setup

# --- MySQL Configuration (Passwords and database name are commonly configured) ---
# MySQL root user password (for initial setup and administration)
# WARNING: Storing passwords in a configuration file poses a security risk. Ensure this file has secure permissions.
MYSQL_ROOT_PASSWORD="VeryStrongRootPassword123!" # <--- Strongly recommended to change this password

# MySQL application database configuration
MYSQL_DB_NAME="myapp_db"                         # <--- Modify according to your application
MYSQL_DB_USER="myapp_user"                       # <--- Modify according to your application
MYSQL_DB_PASSWORD="StrongAppUserPassword456!"    # <--- Strongly recommended to change this password
MYSQL_SQL_SCRIPT_PATH="/assets/create_tables.sql"  # <--- Ensure this SQL script path is correct

# -----------------------------------------------------------------------------
# End of Configuration
# -----------------------------------------------------------------------------
